# テレビ番組企画用　知識グラフ　スキーマ検討

<details>
  <summary>📖 目次(Table of Contents)</summary>

- [知識グラフ検討(クラスとプロパティ）](#知識グラフ検討クラスとプロパティ)
  - [検討したクラス一覧](#検討したクラス一覧)
  - [検討したプロパティ一覧](#検討したプロパティ一覧)
    - [基本のプロパティ(関係性)](#基本のプロパティ関係性)
    - [検討中セクション(details内)](#検討中セクションdetails内)
      - [TimeSlot拡張プロパティ](#timeslot拡張プロパティ)
      - [TargetAudience拡張プロパティ](#targetaudience拡張プロパティ)
      - [ShiftPattern拡張プロパティ](#shiftpattern拡張プロパティ)
      - [ViewingExpectation(視聴期待)プロパティ](#viewingexpectation視聴期待プロパティ)
      - [関係性プロパティ(グラフ構造用)](#関係性プロパティグラフ構造用)
      - [メタプロパティ(rdf-star用)](#メタプロパティrdf-star用)

- [クラスの用途](#クラスの用途)
  - [1. Program(番組)クラス](#1-program番組クラス)
  - [2. ProgramFormat(番組フォーマット)クラス](#2-programformat番組フォーマットクラス)
  - [3. ViewerEmotion(視聴感情)クラス](#3-vieweremotion視聴感情クラス)
  - [4. ProductionElement(構成要素)クラス](#4-productionelement構成要素クラス)
  - [5. ShiftPattern(ずらしパターン)クラス](#5-shiftpatternずらしパターンクラス)
  - [6. TimeSlot(放送時間帯)クラス](#6-timeslot放送時間帯クラス)
  - [7. TargetAudience(ターゲット視聴者層)クラス](#7-targetaudienceターゲット視聴者層クラス)
  - [8. ViewingExpectation(視聴期待)クラス](#8-viewingexpectation視聴期待クラス)

- [プロパティの用途](#プロパティの用途)
  - [基本プロパティ](#基本プロパティ)
    - [hasElement(構成要素を持つ)](#haselement構成要素を持つ)
    - [appliesShift(ずらしを適用)](#appliesshiftずらしを適用)
    - [hasTimeSlot & hasTargetAudience](#hastimeslot--hastargetaudience)
  - [TimeSlotの拡張プロパティ](#timeslotの拡張プロパティ)
    - [viewingMode(視聴形態)](#viewingmode視聴形態)
    - [competingActivities(競合活動)](#competingactivities競合活動)
    - [energyLevel(エネルギーレベル)](#energylevelエネルギーレベル)
  - [TargetAudienceの拡張プロパティ](#targetaudienceの拡張プロパティ)
    - [mediaLiteracy(メディアリテラシー)](#medialiteracyメディアリテラシー)
    - [preferredComplexity(好む複雑性)](#preferredcomplexity好む複雑性)
    - [valueOrientation(価値観指向)](#valueorientation価値観指向)
  - [ShiftPatternの拡張プロパティ](#shiftpatternの拡張プロパティ)
    - [shiftCategory(ずらしカテゴリ)](#shiftcategoryずらしカテゴリ)
    - [riskLevel(リスクレベル)](#risklevelリスクレベル)
    - [prerequisite(前提条件)](#prerequisite前提条件)
    - [combinableWith(組み合わせ可能)](#combinablewith組み合わせ可能)
  - [ViewingExpectationのプロパティ](#viewingexpectationのプロパティ)
    - [expectedFormat & expectedElements](#expectedformat--expectedelements)
    - [avoidElements](#avoidelements)
    - [acceptableShiftDegree](#acceptableshiftdegree)
  - [関係性プロパティの活用](#関係性プロパティの活用)
    - [coOccursWith(共起する‐一緒に使用される要素)](#cooccurswith共起する一緒に使用される要素)
    - [recommendsShift & avoidsShift](#recommendsshift--avoidsshift)
    - [combinableWith(組み合わせ可能)](#combinablewith組み合わせ可能)

- [実践的なクエリパターン](#実践的なクエリパターン)
  - [パターン1:類似番組の発見](#パターン1類似番組の発見)
  - [パターン2:文脈に最適な企画の生成](#パターン2文脈に最適な企画の生成)
  - [パターン3:ずらし度の評価](#パターン3ずらし度の評価)
  - [パターン4:要素の共起分析](#パターン4要素の共起分析)

</details>

---

## 知識グラフ検討(クラスとプロパティ）

RDFの基本構造は、すべての情報を**トリプル(3つ組)**で表現する。

```

主語(Subject) → 述語(Predicate) → 目的語(Object)

```

**クラスは...**
- 主語や目的語に相当する「名詞」的な存在
- 個々の具体例(インスタンス)を持つ

**プロパティは...**
- 述語(真ん中)に位置する
- 「動詞」や「関係」を表す

### 検討したクラス一覧

| クラス | 主な役割 | 実現する機能 |
|--------|---------|------------|
| Program | 分析の中心 | 類似番組検索、特徴分析 |
| ProgramFormat | 構造の分類 | フォーマット別傾向分析 |
| ViewerEmotion | 感情の管理 | 感情ベース推薦 |
| ProductionElement | 部品の管理 | 組み合わせパターン発見 |
| ShiftPattern | 創造性の体系化 | ずらし推奨、リスク評価 |
| TimeSlot | 時間文脈 | 時間帯別最適化 |
| TargetAudience | 視聴者文脈 | ターゲット別最適化 |
| ViewingExpectation | 期待値管理 | 文脈依存の動的推論 |

---

### 検討したプロパティ一覧

#### 基本のプロパティ(関係性)

| プロパティ | 主な役割 | 実現する機能 |
|-----------|---------|------------|
| hasFormat | フォーマット関連付け | 番組構造の分類、フォーマット別検索 |
| hasElement | 構成要素関連付け | 要素別番組検索、組み合わせパターン分析 |
| targetEmotion | 感情目標設定 | 感情ベース推薦、視聴者満足度設計 |
| appliesShift | ずらし適用 | 創造性評価、ずらしパターン検索 |
| hasTimeSlot | 時間帯設定 | 時間帯別分類、文脈生成 |
| hasTargetAudience | ターゲット設定 | 視聴者層別分類、文脈生成 |
| hasSponsorCategory | スポンサー関連付け | 制約条件管理、タブー回避 |
| avoidsTopic | 回避トピック定義 | コンテンツ制約、リスク管理 |

---

<details>
<summary>以降はまだ検討中</summary>

#### TimeSlot拡張プロパティ

| プロパティ | 主な役割 | 実現する機能 |
|-----------|---------|------------|
| viewingMode | 視聴スタイル定義 | 視聴形態に応じた構成設計、情報密度調整 |
| competingActivities | 競合活動把握 | 視聴障壁の理解、セグメント長の最適化 |
| energyLevel | 活力状態管理 | テンポ調整、情報量の最適化 |
| dayType | 曜日区分 | 平日/週末別の企画調整 |
| hour | 時刻指定 | 時間帯の明確な識別 |

---

#### TargetAudience拡張プロパティ

| プロパティ | 主な役割 | 実現する機能 |
|-----------|---------|------------|
| mediaLiteracy | メディア慣れ評価 | 演出複雑性の調整、メタ視点の可否判断 |
| preferredComplexity | 複雑性選好 | 情報密度調整、構成の複雑さ設計 |
| valueOrientation | 価値観把握 | コンテンツ方向性決定、優先順位設定 |
| ageRange | 年齢層定義 | ターゲットの明確化、適切なトーン設定 |
| lifestyle | 生活様式理解 | 共感ポイント設計、コンテンツ選定 |

---

#### ShiftPattern拡張プロパティ

| プロパティ | 主な役割 | 実現する機能 |
|-----------|---------|------------|
| shiftCategory | ずらし分類 | パターンの体系的整理、カテゴリ別検索 |
| riskLevel | リスク評価 | リスク管理、安全性判断 |
| effectiveContext | 有効文脈定義 | 適用条件の明示、効果予測 |
| prerequisite | 前提条件明示 | 成功条件の確認、実現可能性評価 |
| combinableWith | 組み合わせ可能性 | 複数パターンの相乗効果設計 |
| description | パターン説明 | 理解促進、具体的イメージ共有 |

---

#### ViewingExpectation(視聴期待)プロパティ

| プロパティ | 主な役割 | 実現する機能 |
|-----------|---------|------------|
| expectedFormat | 期待フォーマット | 文脈に合った構造選択、期待管理 |
| expectedElements | 期待要素 | 必要要素の特定、基本設計 |
| avoidElements | 回避要素 | 不適切要素の除外、リスク回避 |
| acceptableShiftDegree | 許容ずらし範囲 | 創造性の適切な制御、リスク管理 |
| contextPriority | 優先順位 | 価値観の順序付け、意思決定の指針 |

---

#### 関係性プロパティ(グラフ構造用)

| プロパティ | 主な役割 | 実現する機能 |
|-----------|---------|------------|
| coOccursWith | 共起関係管理 | 組み合わせパターン発見、相性評価 |
| similarTo | 類似関係管理 | 類似番組検索、参考事例提示 |
| combinedWith | 組み合わせ関係 | 文脈の動的生成、期待値計算 |
| generatesExpectation | 期待値生成 | 文脈依存の推論、動的な期待値作成 |
| recommendsShift | ずらし推奨 | 文脈別の最適パターン提案 |
| avoidsShift | ずらし回避 | 不適切パターンの警告、リスク防止 |

---

#### メタプロパティ(RDF-Star用)

| プロパティ | 主な役割 | 実現する機能 |
|-----------|---------|------------|
| frequency | 頻度記録 | 共起回数の定量化、トレンド把握 |
| strength | 関連強度 | 相関の強さ評価、優先順位付け |
| shiftDegree | ずらし度数値化 | 創造性の定量評価、比較分析 |
| confidence | 確信度管理 | 推論の信頼性評価、不確実性の明示 |
| lastUpdated | 更新日時記録 | データ鮮度管理、トレンド追跡 |
| recommendationScore | 推奨スコア | 推奨度の定量化、ランキング |
| avoidanceScore | 回避スコア | 回避度の定量化、警告レベル設定 |
| reason | 理由説明 | 判断根拠の明示、説得力向上 |
| synergyMultiplier | 相乗効果係数 | 組み合わせ効果の定量化、最適化 |
| riskReduction | リスク軽減値 | リスク低減効果の評価、安全性向上 |

</details>

---

# クラスの用途

### 1. Program(番組)クラス

**用途1:類似番組の検索**

```

目的:類似した番組を探す
使い方:

1. Programノードを取得
2. hasElement、hasFormat、targetEmotionの関係を辿る
3. 同じ要素を持つ他のProgramを検索
   結果:類似番組が見つかる

```

**用途2:番組の特徴分析**

```

目的:成功要因を検出する
使い方:

1. 対象となる番組のプロパティを取得
2. appliesShiftでずらしパターンを確認
3. hasTimeSlotとhasTargetAudienceで文脈を確認
4. 文脈適合性を評価
   結果:「この番組は対象転換(ずらし)により成功」といった情報を得る

```

**用途3:新番組企画のアイデアの作成**

```

目的:新しい番組アイデアの作成
使い方:

1. Programノードを作成
2. 基本要素(hasElement)を関連付け
3. 文脈情報(hasTimeSlot、hasTargetAudience)を追加
4. 文脈情報からずらしパターン(appliesShift)を設定
   結果:企画が構造化され、後で検索・分析可能に

```

---

### 2. ProgramFormat(番組フォーマット)クラス

#### 具体的な用途

**用途1:フォーマット別の傾向分析**

```

目的:「対決型」番組の共通要素を知りたい
使い方:

1. 「対決型」フォーマットを持つ番組を全て検索
2. それらの番組が持つ要素(hasElement)を集計
3. 頻出要素を抽出
   結果:「対決型には『ひな壇システム』が頻繁に使われる」等の知見

```

**用途2:フォーマットの推奨**

```

目的:土曜夜8時に適したフォーマットは?
使い方:

1. 土曜夜8時に放送されている番組を検索
2. それらの番組のフォーマットを集計
3. 視聴率やずらし度と相関分析
   結果:「土曜夜8時は『対決型』と『探訪紀行型』が相性良い」

```

**用途3:フォーマット×ずらしパターンの組み合わせ**

```

目的:探訪紀行型で効果的なずらしは?
使い方:

1. 探訪紀行型の番組を検索
2. 各番組のずらしパターンを確認
3. 成功事例のパターンを分析
   結果:「対象転換が探訪紀行型と相性が良い」

```

---

### 3. ViewerEmotion(視聴感情)クラス

**用途1:感情ベースの番組推薦**

```

目的:「達成感を感じたい」視聴者に合う番組は?
使い方:

1. targetEmotionが「競争と達成」の番組を検索
2. ターゲット層でフィルタリング
3. 時間帯で絞り込み
   結果:適切な番組リストを提示

```

**用途2:感情の組み合わせパターン分析**

```

目的:複数の感情を組み合わせた番組の傾向は?
使い方:

1. 2つ以上のViewerEmotionを持つ番組を検索
2. 組み合わせパターンを分類
3. 成功事例を抽出
   結果:「発見と知識」+「共感」の組み合わせは人気が高い

```

**用途3:文脈別の感情ニーズ把握**

```

目的:平日午後2時の視聴者が求める感情は?
使い方:

1. 平日午後2時の番組を検索
2. それらのtargetEmotionを検索→主婦層がでたとして
3. 主婦層のvalueOrientationと照合
   結果:「共感」「実用情報」への欲求が強い

```

---

### 4. ProductionElement(構成要素)クラス

**用途1:共起関係の発見(一緒に使用されることの多い関係)**

```

目的:「料理」と相性の良い要素は?
使い方:

1. 「料理」要素を持つ番組を検索
2. coOccursWithの関係を確認
3. frequencyとstrengthでランキング
   結果:「料理」は「タレント起用」と頻繁に共起(frequency: 45)

```

**用途2:新しい組み合わせの提案**

```

目的:「料理」を使った新しい企画を考えたい
使い方:

1. 「料理」と共起が少ない要素を検索
2. その組み合わせを使った他ジャンルの番組を参照
3. 創造的な組み合わせを提案
   結果:「料理」×「街頭インタビュー」という新しい組み合わせ

```

**用途3:要素の過不足チェック**

```

目的:企画中の番組に足りない要素は?
使い方:

1. 現在の企画が持つ要素をリストアップ
2. 同じフォーマットの成功番組の要素を比較
3. 不足している頻出要素を抽出
   結果:「対決型なのに『ひな壇システム』がない」等の気づき

```

---

### 5. ShiftPattern(ずらしパターン)クラス

**用途1:適切なずらしパターンの推奨**

```

目的:土曜夜8時のファミリー向け番組、どうずらす?
使い方:

1. 土曜夜8時のViewingExpectationを取得
2. recommendsShiftの関係を確認
3. riskLevelとrecommendationScoreで評価
   結果:「テンポ操作(リスク低、スコア85)」を推奨

```

**用途2:リスク評価**

```

目的:「ルール破壊」を使うリスクは?
使い方:

1. 「ルール破壊」パターンのriskLevelを確認(高)
2. prerequisite(前提条件)を確認
3. 同パターンを使った番組の成功率を集計
   結果:「高リスクだが、条件を満たせば革新的」と評価

```

**用途3:ずらし度の定量評価**
```

目的:この企画のずらし度はどのくらい?
使い方:

1. 企画に適用されているShiftPatternを確認
2. 各パターンのshiftDegreeを合算
3. 0-200スケールで評価
   結果:合計120点 → 「大胆なずらし」と判定

```

---

### 6. TimeSlot(放送時間帯)クラス

**用途1:時間帯特性の理解**

```

目的:平日午後2時の視聴者はどんな状態?
使い方:

1. 「平日午後2時」のTimeSlotノードを取得
2. viewingMode(ながら見)を確認
3. energyLevel(低)を確認
4. competingActivities(家事、昼食後の休憩)を確認
   結果:「リラックスしながら、軽く見られる内容が適切」

```

**用途2:時間帯別の推奨ずらしパターン**

```

目的:土曜夜8時に適したずらしは?
使い方:

1. 「土曜夜8時」のrecommendsShiftを確認
2. recommendationScoreでランキング
3. reasonで推奨理由を確認
   結果:「テンポ操作(スコア85):家族全員が楽しめる演出」

```

**用途3:時間帯ごとの禁止事項**

```

目的:この時間帯で避けるべきことは?
使い方:

1. 対象TimeSlotのavoidsShiftを確認
2. avoidanceScoreで重要度を評価
3. reasonで理由を確認
   結果:「平日午後2時は『ルール破壊』を避ける(スコア90)」

```

**用途4:競合活動の把握**

```

目的:この時間帯の視聴者は何をしている?
使い方:

1. TimeSlotのcompetingActivitiesを確認
2. 番組要素との相性を評価
   結果:「朝7時は通勤準備中なので、ながら見可能な構成に」

```

---

### 7. TargetAudience(ターゲット視聴者層)クラス

**用途1:視聴者特性の理解**

```

目的:若年層の特徴は?
使い方:

1. 「若年層」のTargetAudienceノードを取得
2. mediaLiteracy(高)を確認
3. preferredComplexity(高)を確認
4. valueOrientation(娯楽、トレンド)を確認
   結果:「複雑な構成OK、トレンド重視の内容が適切」

```

**用途2:価値観に基づくコンテンツ選定**

```

目的:主婦層が求める価値は?
使い方:

1. 「主婦層」のvalueOrientationを確認(共感、実用情報)
2. その価値観に合うProductionElementを検索
3. ViewerEmotionとの相関を確認
   結果:「共感を生む人間ドラマ」+「実用的な料理情報」が最適

```

---

### 8. ViewingExpectation(視聴期待)クラス

#### 作成意図
TimeSlot × TargetAudienceから**動的に生成される期待値**を管理するために用いる

**用途1:文脈期待値の自動生成**

```

目的:土曜夜8時×ファミリー層の期待値は?
使い方:

1. TimeSlot「土曜夜8時」とTargetAudience「ファミリー層」を組み合わせ
2. generatesExpectationで対応するViewingExpectationを取得
3. expectedFormat、expectedElementsを確認
   結果:自動生成された期待値セットが得られる

```

**用途2:許容ずらし度の判定**
```

目的:ずらし度120の企画は、この文脈で許容される?
使い方:

1. 対象文脈のViewingExpectationを取得
2. acceptableShiftDegreeを確認(例:40-120)
3. 企画のずらし度と比較
   結果:「120は上限ギリギリだが許容範囲内」と判定

```

**用途3:期待要素との適合性チェック**
```

目的:企画が期待に合っているか確認したい
使い方:

1. 企画の要素をリストアップ
2. ViewingExpectationのexpectedElementsと比較
3. avoidElementsに該当するものがないか確認
   結果:「対決要素が含まれているが、平日午後2時は避けるべき」

```

**用途4:優先順位の把握**

```

目的:この文脈で何を優先すべき?
使い方:

1. ViewingExpectationのcontextPriorityを確認
2. 優先順位に従って番組要素を調整
   結果:「共感>情報>娯楽の順なので、人間ドラマを重視」

```

---

## プロパティの用途

### 基本プロパティ

#### hasElement(構成要素を持つ)

**用途例**:
- 「料理」要素を持つ番組を全て検索
- 特定の番組が使用している要素の一覧取得
- 要素の組み合わせパターン分析

#### appliesShift(ずらしを適用)

**用途例**:
- 番組の創造性レベルを数値化
- 特定のずらしパターンを使った番組の検索
- ずらし度による番組の分類

#### hasTimeSlot & hasTargetAudience

**用途例**:
- 文脈に応じた番組の分類
- 時間帯×ターゲット層の組み合わせ分析
- ViewingExpectationの自動生成

### TimeSlotの拡張プロパティ

#### viewingMode(視聴形態)

**用途例**

```

「ながら見」の時間帯
→ 視覚情報だけでなく音声でも理解できる構成に
→ 頻繁な繰り返しや要約を入れる

```

#### competingActivities(競合活動)

**用途例**

```

朝7時は「通勤準備」が競合
→ 短いセグメント構成
→ いつ見始めても理解できる作り

```

#### energyLevel(エネルギーレベル)

**用途例**
```

energyLevel「高」の時間帯
→ テンポの速い展開OK
→ 情報密度を上げられる

energyLevel「低」の時間帯
→ ゆったりとした進行
→ リラックスできる内容

```

---

### TargetAudienceの拡張プロパティ

#### mediaLiteracy(メディアリテラシー)

**用途例**

```

mediaLiteracy「高」(若年層)
→ メタ視点導入OK
→ 複雑な編集技法を活用

mediaLiteracy「低」(シニア層)
→ 従来型の分かりやすい構成
→ メタ的な演出は避ける

```

#### preferredComplexity(好む複雑性)

**設計意図**: 情報処理能力に応じた構成設計

**用途例**

```

preferredComplexity「高」
→ 多層的なストーリー展開
→ 伏線や複雑な構造OK

preferredComplexity「低」
→ シンプルな1本軸
→ 明確で分かりやすい構成

```

#### valueOrientation(価値観指向)

**用途例**

```

valueOrientation「実用情報」
→ how-toコンテンツ
→ 生活に役立つ情報提供

valueOrientation「娯楽」
→ 面白さ優先
→ 笑い、驚き、感動重視

```

---

### ShiftPatternの拡張プロパティ

#### shiftCategory(ずらしカテゴリ)

**用途例**

```

「構造的ずらし」が必要な場合
→ マンネリ化したフォーマットの刷新
→ ジャンルの枠組み自体を変える

「演出的ずらし」が必要な場合
→ 見せ方の工夫で差別化
→ 既存要素の新しい演出

```

#### riskLevel(リスクレベル)

**用途例**

```

新番組立ち上げ時
→ riskLevel「低」のパターンから選択
→ 安定した視聴率を確保

既存番組のリニューアル時
→ riskLevel「中」〜「高」に挑戦
→ 話題性や革新性を追求

```

#### prerequisite(前提条件)

**用途例**

```

「役割反転」を使用する場合
→ prerequisite「明確な役割設定の存在」を確認
→ 反転前の役割が視聴者に理解されているか確認

```

#### combinableWith(組み合わせ可能)

**用途例**

```

「対象転換」を選択
→ combinableWith「テンポ操作」を確認
→ 両方を組み合わせてsynergyMultiplier 1.3倍の効果

```

---

## ViewingExpectationのプロパティ

### expectedFormat & expectedElements

**用途例**

```

平日午後2時×主婦層の場合
→ expectedElements: 料理、実用情報
→ 期待に沿った企画を設計

または
→ 期待をあえて裏切る企画を設計(ずらし)

```

### avoidElements

**用途例**

```

平日午後2時×主婦層の場合
→ avoidElements: 対決、複雑な構成
→ これらを避けた企画設計

リスクを取る場合
→ あえてavoidElementsを使用してずらす

```

### acceptableShiftDegree

**用途例**

```

保守的な文脈(シニア層、日曜午後)
→ acceptableShiftDegree: 0-60
→ 安全な範囲でのずらし

革新的な文脈(若年層、平日朝)
→ acceptableShiftDegree: 60-150
→ 大胆なずらしが許容される

````

---

## 関係性プロパティの活用

### coOccursWith(共起する‐一緒に使用される要素)

**RDF-Starでの記述例**

```turtle
<<tv:料理 tv:coOccursWith tv:対決>>
    tv:frequency 45 ;
    tv:strength 0.75 ;
    tv:lastUpdated "2024-01-15T10:00:00Z"^^xsd:dateTime .
````

**用途例**

```
1. 頻出組み合わせの発見
   → frequency > 30 の組み合わせを検索
   → 定番パターンとして活用

2. 意外な組み合わせの発見
   → frequency < 5 かつ strength > 0.6
   → 新しいアイデアの源泉

3. トレンド分析
   → lastUpdatedが最近のものを抽出
   → 最新の流行を把握
```

---

### recommendsShift & avoidsShift

**RDF-Starでの記述例**

```turtle
<<tv:土曜夜8時 tv:recommendsShift tv:テンポ操作>>
    tv:recommendationScore 85 ;
    tv:reason "家族全員が楽しめる演出的工夫"@ja .

<<tv:平日午後2時 tv:avoidsShift tv:ルール破壊>>
    tv:avoidanceScore 90 ;
    tv:reason "ながら見視聴者には理解が困難"@ja .
```

**用途例**

```
1. 最適ずらしパターンの選択
   → recommendationScore上位3つを提示
   → reasonで納得感のある説明

2. 危険なパターンの回避
   → avoidanceScore > 80 のパターンは警告表示
   → reasonでリスクを説明

3. 意図的なリスクテイク
   → avoidsShiftをあえて採用する場合の根拠説明
```

---

### combinableWith(組み合わせ可能)

**RDF-Starでの記述例**

```turtle
<<tv:対象転換 tv:combinableWith tv:テンポ操作>>
    tv:synergyMultiplier 1.3 ;
    tv:riskReduction 0.2 .
```

**用途例**

```
1. 効果的な組み合わせの提案
   → synergyMultiplier > 1.2 の組み合わせを推奨
   → 単独使用より30%効果アップ

2. リスク軽減効果
   → riskReduction > 0.1 の組み合わせ
   → 高リスクパターンを低リスク化

3. 複数ずらしの最適化
   → 3つ以上のパターンを組み合わせる際の調整
```

---

## 実践的なクエリパターン

### パターン1:類似番組の発見

**使用するクラス/プロパティ**:

* Program(番組)
* hasElement(構成要素)
* appliesShift(ずらし)
* targetEmotion(感情)

**実装手順**:

1. 「オモウマい店」のすべての属性を取得
2. 同じhasElementを持つ番組を検索
3. 同じappliesShiftを持つ番組を検索
4. 類似度スコアを計算
5. 上位5件を返す

**期待される結果**:

* 孤独のグルメ(料理、探訪要素が共通)
* 秘密のケンミンSHOW(地方、発見要素が共通)

---

### パターン2:文脈に最適な企画の生成

**使用するクラス/プロパティ**

* TimeSlot(土曜夜8時)
* TargetAudience(ファミリー層)
* ViewingExpectation(自動生成)
* recommendsShift(推奨ずらし)

**実装手順**

1. TimeSlot × TargetAudienceでViewingExpectation生成
2. expectedElementsから基本要素を選択
3. recommendsShiftから適切なずらしを選択
4. acceptableShiftDegreeの範囲内で調整
5. 企画案を生成

**期待される結果**

* 基本要素:料理 + 対決
* ずらし:テンポ操作(ずらし度60)
* 説明:「家族で楽しめるハイテンポ料理対決」

---

### パターン3:ずらし度の評価

**使用するクラス/プロパティ**

* ShiftPattern(ずらしパターン)
* shiftDegree(ずらし度)
* riskLevel(リスクレベル)

**実装手順**

1. 企画に含まれるすべてのShiftPatternを抽出
2. 各パターンのshiftDegreeを合計
3. 0-200スケールで評価
4. riskLevelでリスク判定
5. 文脈のacceptableShiftDegreeと比較

**期待される結果**

* 合計ずらし度:120
* 評価:「大胆なずらし」
* リスク:中
* 文脈適合性:土曜夜8時(40-120)の上限ギリギリ

---

### パターン4:要素の共起分析

**目的**: 「料理」と相性の良い要素を発見

**使用するクラス/プロパティ**

* ProductionElement(構成要素)
* coOccursWith(共起関係)
* frequency(頻度)
* strength(強度)

**実装手順**

1. 「料理」要素のcoOccursWithを取得
2. frequencyで降順ソート
3. strengthで相関の強さを確認
4. 上位10件の要素をリスト化
5. 意外な組み合わせ(frequency低、strength高)も抽出

**期待される結果**

* 定番:タレント起用(frequency: 45, strength: 0.75)
* 定番:対決(frequency: 38, strength: 0.70)
* 意外:街頭インタビュー(frequency: 5, strength: 0.65)
